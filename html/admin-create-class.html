<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Class | UniTrack</title>
    
    <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="../styles/theme.css">
    <link rel="stylesheet" href="../styles/nav-bar-student.css">
    <link rel="stylesheet" href="../styles/footer.css">
    <link rel="stylesheet" href="../styles/scroll-up.css">
    <link rel="stylesheet" href="../styles/scrollbar.css">
    <link rel="stylesheet" href="../styles/course-card-discover.css">
    <link rel="stylesheet" href="../styles/admin-create.css">
</head>
<body>
    <main>
            <h1>Create New Class</h1>
            <form id="createClassForm">
                <ul>
                    <li>
                        <label for="courseId">Select Course:    </label>
                        <select id="courseId" name="courseId" required>
                        </select>
                    </li>
                    <li>
                        <label for="classId">Class ID:</label>
                        <input type="text" id="classId" name="classId" required>
                    </li>
                    <li>
                        <label for="instructor">Instructor ID:</label>
                        <input type="text" id="instructor" name="instructor" required>
                    </li>
                    <li>
                        <label for="maxStudents">Maximum Students:</label>
                        <input type="number" id="maxStudents" name="maxStudents" required>
                    </li>
                    <li>
                        <label for="schedule">Schedule:</label>
                        <input type="text" id="schedule" name="schedule" value="">  
                        <!-- not required yet, default value empty string til we figure out what to use for sched -->
                    </li>
                    <li>
                        Campus:
                        <label>
                            <input type="radio" name="campus" value="male" checked required> Male Campus
                        </label>
                        <label>
                            <input type="radio" name="campus" value="female" required> Female Campus
                        </label>
                    </li>
                    <li>
                        <button type="submit">Create Class</button>
                    </li>
                </ul>
            </form>
    </main>
    <!-- copying external script to html for now -->
    <script>
        //figuring out how to save to json ->https://www.geeksforgeeks.org/read-json-file-using-javascript/
        fetch('../data/courses.json').then(response => response.json()) // Parse JSON
            .then(data => console.log(data)) // Work with JSON data
            .catch(error => console.error('Error fetching JSON:', error));

        document.getElementById('createClassForm').addEventListener('submit', function(event) {
            const classId = document.getElementById('classId').value;
            const instructor = document.getElementById('instructor').value;
            const maxStudents = parseInt(document.getElementById('maxStudents').value);
            const classStatus = false; //default value
            const schedule = "" //empty for now, probably add calendar later once we clarify what use case 8 is?
            const campus = document.querySelector('input[name="campus"]:checked').value;

            const newClass = {
                classId: classId,
                instructor: instructor,
                maxStudents: maxStudents,
                classStatus: false,
                Students: [""], // default value
                Schedule: schedule,
                campus: campus
            };

            
            document.getElementById('createClassForm').reset(); // Clear the form
        });

    </script>
</body>
</html>